<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NTA MODELS - Get Scouted</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,700&display=swap" rel="stylesheet">
    
    <script>
        // Tailwind Configuration for Custom Fonts - Using Poppins exclusively
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'heading': ['Poppins', 'sans-serif'], 
                        'paragraph': ['Poppins', 'sans-serif'],
                        'serif': ['Poppins', 'sans-serif'], 
                    },
                    colors: {
                        'nta-black': '#000000',
                        'nta-white': '#FFFFFF',
                        'nta-red': '#E53E3E', 
                    }
                }
            }
        }
    </script>

    <style>
        /* Global body style ensures default text is Poppins */
        body {
            font-family: 'paragraph';
            color: #000000;
        }
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
            transform: translateX(100%);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }
        #desktop-header { z-index: 50; }
        #mobile-menu { z-index: 40; }
        .shadow-none { box-shadow: none !important; }
        .rounded-none { border-radius: 0 !important; }
        html { scroll-behavior: smooth; }
        
        .group:hover .dropdown-menu {
            display: block;
        }
        .dropdown-menu {
            display: none;
            top: 100%; 
            z-index: 30; 
            left: 50%;
            transform: translateX(-50%);
        }

        /* --- WARNING FIXES START HERE --- */
        .nta-bordered-input {
            font-family: 'Poppins', sans-serif !important; 
        }

        .nta-label {
            font-family: 'Poppins', sans-serif !important;
            display: block; 
            color: black;
            margin-bottom: 0.25rem; /* Equivalent to mb-1 */
            font-size: 1rem; /* Equivalent to text-base */
        }
        
        .nta-button {
            background-color: #000000;
        }

        .nta-radio-label {
            font-family: 'Poppins', sans-serif !important;
            display: flex;
            align-items: center;
        }
        .nta-radio {
            /* No pure CSS needed here, all utilities moved to the HTML element. */
        }

        /* --- END OF WARNING FIXES --- */

        /* Ensure submission message and note also use Poppins */
        #message-box, .text-center.text-sm.text-black {
             font-family: 'Poppins', sans-serif !important;
        }
        /* The specific p tags inside the message box */
        #message-box p {
             font-family: 'Poppins', sans-serif !important;
        }
    </style>
</head>
<body class="bg-nta-white font-light">

    <header id="desktop-header" class="fixed top-0 left-0 w-full transition-colors duration-300 bg-black">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            
            <div class="flex w-full justify-between items-center lg:hidden">
                <div class="h-10">
                    <img src="../assets/logo-header.png" alt="NTA Logo" class="h-full w-auto" 
                          onerror="this.onerror=null;this.src='https://placehold.co/120x50/FFFFFF/000000?text=LOGO';" />
                </div>
                <button id="menu-toggle" class="text-white focus:outline-none p-2 relative z-50">
                    <i id="menu-icon-open" class="fas fa-bars fa-lg transition-opacity duration-300"></i>
                    <i id="menu-icon-close" class="fas fa-times fa-lg transition-opacity duration-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0"></i>
                </button>
            </div>

            <div class="hidden lg:flex w-full items-center justify-between">
                <div class="w-48 flex-shrink-0">
                    <img src="../assets/logo-header.png" alt="NTA Logo" class="h-12 w-auto" 
                          onerror="this.onerror=null;this.src='https://placehold.co/150x60/FFFFFF/000000?text=LOGO';" />
                </div> 

                <nav class="flex-grow flex justify-end">
                    <ul class="flex space-x-6 text-white font-heading text-sm font-light uppercase">
                        
                        <li><a href="index.html" class="p-2 rounded-none hover:bg-white/20 transition-colors">HOME</a></li>
                        
                        <li class="relative group">
                            <a href="#" class="p-2 rounded-none hover:bg-white/20 transition-colors">
                                INFO
                            </a>
                            <ul class="dropdown-menu absolute w-56 bg-black/80 shadow-lg text-white py-2">
                                <li><a href="../about.html" class="block px-4 py-2 text-center hover:bg-white/10 transition-colors text-sm">ABOUT</a></li>
                                <li><a href="policy.html" class="block px-4 py-2 text-center hover:bg-white/10 text-sm">POLICY</a></li>
                                <li><a href="terms.html" class="block px-4 py-2 text-center hover:bg-white/10 text-sm">TERMS & CONDITIONS</a></li>
                                <li><a href="faqs.html" class="block px-4 py-2 text-center hover:bg-white/10 text-sm">FAQS</a></li>
                            </ul>
                        </li>

                        <li><a href="scouted.html" class="p-2 rounded-none hover:bg-white/20 transition-colors">SCOUTED</a></li>
                        <li><a href="getscouted.html" class="p-2 rounded-none bg-white/20 transition-colors">GET SCOUTED</a></li>
                        <li><a href="info-pack.html" class="p-2 rounded-none hover:bg-white/20 transition-colors">INFORMATION PACK</a></li>
                        <li><a href="agencies.html" class="p-2 rounded-none hover:bg-white/20 transition-colors">ASSOCIATED AGENCIES</a></li>
                        
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <div id="mobile-menu" class="fixed top-0 left-0 w-full h-full bg-black/95 z-40 flex flex-col justify-start items-center text-white p-8 lg:hidden">
        <nav class="flex flex-col space-y-4 text-xl font-heading text-center font-light w-full uppercase pt-16">
            
            <a href="index.html" class="p-2 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">HOME</a>
            
            <button class="p-2 text-white hover:text-gray-400 transition-colors flex items-center justify-center" onclick="toggleMobileSubMenu('info-submenu')">
                INFO
            </button>
            <div id="info-submenu" class="flex flex-col space-y-2 mt-2 text-lg hidden">
                <a href="../about.html" class="p-1 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">ABOUT</a>
                <a href="policy.html" class="p-1 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">POLICY</a>
                <a href="terms.html" class="p-1 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">TERMS & CONDITIONS</a>
                <a href="faqs.html" class="p-1 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">FAQS</a>
            </div>

            <a href="scouted.html" class="p-2 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">SCOUTED</a> 
            <a href="getscouted.html" class="p-2 text-gray-300 transition-colors" onclick="toggleMobileMenu()">GET SCOUTED</a>
            <a href="info-pack.html" class="p-2 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">INFORMATION PACK</a>
            <a href="agencies.html" class="p-2 hover:text-gray-400 transition-colors" onclick="toggleMobileMenu()">ASSOCIATED AGENCIES</a>

        </nav>
    </div>
    <main class="min-h-screen bg-nta-white pt-24"> 
        
        <section class="container mx-auto px-4 py-12 lg:py-16">
            
            <div class="max-w-4xl mx-auto">
                
                <h1 class="text-5xl md:text-6xl font-heading font-light mb-8 text-center tracking-widest uppercase border-b border-black pb-4">
                    ARE YOU READY?
                </h1>
                
                <p class="text-center text-lg font-paragraph mb-12 max-w-2xl mx-auto">
                    This is your chance. We are constantly searching for new faces to represent. If you believe you have what it takes to be a professional model, please fill out the form below. Our scouts will review every application, and if we see potential, we will be in touch.
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 mt-12">
                    
                    <div class="lg:border-r lg:pr-10">
                        <h2 class="text-2xl font-heading font-semibold uppercase mb-4 text-black">Required Images & Video</h2>
                        <p class="text-base mb-4 font-paragraph text-black">
                            All images and videos should be uploaded to Google Drive and made public, you can include even your intro videos. This applies to self-hosted links also.
                        </p>
                        <ul class="list-none space-y-3 text-lg font-paragraph text-black">
                            <li class="flex items-start">
                                <i class="fas fa-camera text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Please submit four clear, unedited, recent photos (Headshot, Profile, Half Body, Full Body).</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-ban text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>No professional photos, no makeup, no filters, no sunglasses, and no hats. Your face should be clearly visible.</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-lightbulb text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Photos must be taken in natural light against a plain background.</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-link text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Link to your Google Drive/Portfolio in the form below (must be public).</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h2 class="text-2xl font-heading font-semibold uppercase mb-4 text-black">MANDATORY REQUIREMENTS </h2>
                        <ul class="list-none space-y-3 text-lg font-paragraph text-black">
                            <li class="flex items-start">
                                <i class="fas fa-check text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Age 15+ (If under 18, parental/guardian consent is required).</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Minimum height 170cm (5'7") for female applicants.</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Minimum height 180cm (5'11") for male applicants.</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                                <span>Based in or able to travel to major modeling hubs when required (e.g., Cape Town, Johannesburg, etc.).</span>

                            </li>
                            <li class="flex item-start>
                              <i class="fas fa-check text-nta-black mt-1 mr-3 flex-shrink-0"></i>
                            <span>$1 Admin Fee for non-scouted applicants to cover administrative costs. Visit TERMS & CONDITIONS under INFO for more information.</span>
                                </li>
                        </ul>
                    </div>
                </div>

                <div class="mt-20 border-t border-gray-300 pt-12">
                    
                    <h2 class="text-3xl font-heading font-light text-center mb-10 normal-case text-black font-paragraph">Application Form</h2>
                    
                    <div class="max-w-xl mx-auto p-6 md:p-10">
                        
                        <form id="scout-form" method="POST" class="space-y-8" onsubmit="handleSubmission(event)">
                            
                            <div>
                                <label for="name" class="nta-label font-paragraph text-black">Full Name and Surname:</label>
                                <input type="text" id="name" name="name" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Full Name & Surname">
                            </div>
                            <div>
                                <label for="date_of_birth" class="nta-label font-paragraph text-black">Date of Birth:</label>
                                <input type="date" id="date_of_birth" name="date_of_birth" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Date of Birth" onfocus="(this.type='date')" onblur="(this.type='text')">
                            </div>
                            <div>
                                <label for="email" class="nta-label font-paragraph text-black">Email Address:</label>
                                <input type="email" id="email" name="email" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Email Address">
                            </div>
                            <div>
                                <label for="phone" class="nta-label font-paragraph text-black">Phone Number:</label>
                                <input type="tel" id="phone" name="phone" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Phone Number">
                            </div>
                            <div>
                                <label for="address" class="nta-label font-paragraph text-black">Full Address + Country:</label>
                                <input type="text" id="address" name="address" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Full Address + Country">
                            </div>
                            <div>
                                <label for="instagram" class="nta-label font-paragraph text-black">Social Media (Instagram Handle):</label>
                                <input type="text" id="instagram" name="instagram" class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Instagram Handle">
                            </div>

                            <div class="space-y-8 pt-4 border-t border-gray-100">
                                <div>
                                    <label for="height" class="nta-label font-paragraph text-black">Height (cm):</label>
                                    <input type="number" id="height" name="height" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Height (cm)">
                                </div>
                                <div>
                                    <label for="weight" class="nta-label font-paragraph text-black">Weight (kg):</label>
                                    <input type="number" id="weight" name="weight" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Weight (kg)">
                                </div>
                                <div>
                                    <label for="bust" class="nta-label font-paragraph text-black">Bust (cm):</label>
                                    <input type="number" id="bust" name="bust" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Bust (cm)">
                                </div>
                                <div>
                                    <label for="waist" class="nta-label font-paragraph text-black">Waist (cm):</label>
                                    <input type="number" id="waist" name="waist" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Waist (cm)">
                                </div>
                                <div>
                                    <label for="hips" class="nta-label font-paragraph text-black">Hips (cm):</label>
                                    <input type="number" id="hips" name="hips" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Hips (cm)">
                                </div>
                                <div>
                                    <label for="shoe_size" class="nta-label font-paragraph text-black">Shoe Size (EU / UK):</label>
                                    <input type="text" id="shoe_size" name="shoe_size" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Shoe Size">
                                </div>
                                <div>
                                    <label for="hair" class="nta-label font-paragraph text-black">Hair Color:</label>
                                    <input type="text" id="hair" name="hair" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Hair Color">
                                </div>
                                <div>
                                    <label for="eyes" class="nta-label font-paragraph text-black">Eye Color:</label>
                                    <input type="text" id="eyes" name="eyes" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Eye Color">
                                </div>
                            </div>

                            <div class="pt-4 border-t border-gray-100">
                                <label for="portfolio_link" class="nta-label font-paragraph text-black">Google Drive/Portfolio Link (Must be Public):</label>
                                <input type="url" id="portfolio_link" name="portfolio_link" required class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Google Drive/Portfolio Link">
                            </div>

                            <div class="pt-4 border-t border-gray-100">
                                <label class="block text-lg font-heading font-semibold uppercase mb-3 text-black font-paragraph">Are you scouted by an agent?</label>
                                <div class="flex space-x-6">
                                    <label class="nta-radio-label flex items-center space-x-2 text-base font-light cursor-pointer text-black">
                                        <input type="radio" name="is_scouted" value="yes" required class="nta-radio h-4 w-4 text-nta-black border-gray-300 focus:ring-nta-black" onchange="toggleScoutCode('yes')">
                                        <span class="text-black font-paragraph">YES</span>
                                    </label>
                                    <label class="nta-radio-label flex items-center space-x-2 text-base font-light cursor-pointer text-black">
                                        <input type="radio" name="is_scouted" value="no" required class="nta-radio h-4 w-4 text-nta-black border-gray-300 focus:ring-nta-black" onchange="toggleScoutCode('no')">
                                        <span class="text-black font-paragraph">NO (Requires $1 Admin Fee)</span>
                                    </label>
                                </div>
                            </div>

                            <div id="scout-code-container" class="space-y-2 hidden">
                                <label for="scout-code" class="nta-label font-paragraph text-black">Agent Code:</label>
                                <input type="text" id="scout-code" name="scout_code" placeholder="Enter code here" class="nta-bordered-input w-full border border-nta-black p-3 text-lg text-black bg-white focus:outline-none focus:ring-1 focus:ring-nta-black" aria-label="Agent Code">
                                <p id="code-error" class="text-black text-sm font-paragraph hidden">Incorrect Agent Code.</p>
                            </div>
                            
                            <div class="pt-4">
                                <label class="nta-radio-label flex items-center space-x-2 text-base font-light cursor-pointer text-black">
                                    <input type="checkbox" name="terms" required class="nta-radio h-4 w-4 text-nta-black border-gray-300 focus:ring-nta-black" value="agreed">
                                    <span class="text-black font-paragraph">I have read and agree to the <a href="terms.html" target="_blank" class="text-nta-black hover:underline font-semibold">Terms & Conditions</a></span>
                                </label>
                            </div>

                            <button type="submit" class="nta-button w-full mt-8 py-3 px-4 text-white uppercase font-heading font-semibold tracking-wider hover:bg-gray-700 transition-colors cursor-pointer rounded-none shadow-none">
                                SUBMIT APPLICATION
                            </button>
                        </form>
                    </div>

                    <div id="message-box" class="hidden mt-8 text-center p-6 border border-nta-black bg-nta-white text-black max-w-xl mx-auto text-base">
                        <p class="font-semibold text-lg font-paragraph">Submission Successful!</p>
                        <p class="font-paragraph">Your application has been received. Our scouts will review it and we will be in touch only if you are shortlisted. Please allow up to 4 weeks for a response.</p>
                    </div>

                    <p class="text-center text-sm text-black font-paragraph mt-12">
                        Note: We will only contact successful candidates. Please do not send multiple submissions.
                    </p>
                </div>

            </div>
            
        </section>
        
    </main>
    <footer class="bg-nta-black text-white py-12 mt-10">
        <div class="container mx-auto px-4 flex flex-col items-center">
            
            <img src="../assets/logo-header.png" alt="NTA Models Logo" class="h-32 mb-10 rounded-none shadow-none" onerror="this.onerror=null;this.src='https://placehold.co/200x90/FFFFFF/000000?text=NTA+Logo';" />
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-y-10 md:gap-x-12 w-full max-w-4xl text-center md:text-left">
                
                <div>
                    <ul class="space-y-2 text-lg">
                        <li><a href="../join.html" class="hover:text-gray-400 font-heading font-bold transition-colors">ENROLL</a></li>
                        <li><a href="../index.html" class="hover:text-gray-400 font-heading font-bold transition-colors">HOME</a></li>
                        <li><a href="../contact.html" class="hover:text-gray-400 font-heading font-bold transition-colors">CONTACT</a></li>
                    </ul>
                </div>

                <div class="md:col-span-1">
                    <h4 class="text-xl font-heading font-bold mb-4">OPERATING HOURS:</h4>
                    <p class="text-base font-paragraph">
                        Monday - Friday (09:00 - 17:30)<br>
                        Saturday (09:00 - 13:00)<br>
                        Sunday (closed)
                    </p>
                </div>

                <div class="md:col-span-1">
                    <h4 class="text-xl font-heading font-bold mb-4">FOLLOW US:</h4>
                    <div class="flex justify-center md:justify-start space-x-4 text-2xl">
                        <a href="https://facebook.com/ntamodelss" target="_blank" class="hover:text-gray-400 transition-colors" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com/ntamodelss" target="_blank" class="hover:text-gray-400 transition-colors" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://tiktok.com/@ntamodelssa" target="_blank" class="hover:text-gray-400 transition-colors" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
            </div>

            <p class="mt-12 text-sm font-paragraph font-light text-center">
                Â© 2025 NTA MODELS. All rights reserved. 
                <span class="inline-block mt-2 md:mt-0 md:ml-2">
                    Web Designs by <a href="https://webbytlotly.netlify.app/" target="_blank" class="text-white hover:text-gray-400 font-paragraph font-light">Tlotly</a>
                </span>
            </p>
        </div>
    </footer>


    <script>
        // --- PayFast Configuration (UPDATED with uppercase USD currency) ---
        const PAYFAST_URL = "https://www.payfast.co.za/eng/process";
        const MERCHANT_ID = "30920829"; // Your confirmed Merchant ID
        const MERCHANT_KEY = "gqnzkfosq9fc8"; // Your confirmed Merchant Key
        const ADMIN_FEE_AMOUNT = 20.00; // $1 admin fee
        const BASE_RETURN_URL = "https://ntamodels.co.za/getscouted.html"; // Base URL for returns
        const NOTIFY_URL = "https://ntamodels.co.za/submission-callback"; 
        
        // --- Mobile Menu Toggle (Reused) ---
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const iconOpen = document.getElementById('menu-icon-open');
        const iconClose = document.getElementById('menu-icon-close');
        
        function toggleMobileMenu() {
            const isMenuOpen = mobileMenu.classList.toggle('open');
            
            iconOpen.classList.toggle('opacity-0', isMenuOpen);
            iconClose.classList.toggle('opacity-0', !isMenuOpen);
            iconClose.classList.toggle('opacity-100', isMenuOpen);

            document.body.style.overflow = isMenuOpen ? 'hidden' : '';
        }

        menuToggle.addEventListener('click', toggleMobileMenu);

        // --- Mobile Submenu Toggle (Reused) ---
        function toggleMobileSubMenu(id) {
            const submenu = document.getElementById(id);
            submenu.classList.toggle('hidden');
        }

        // --- Conditional Code Input Logic ---
        function toggleScoutCode(value) {
            const container = document.getElementById('scout-code-container');
            const codeInput = document.getElementById('scout-code');
            const codeError = document.getElementById('code-error');

            if (value === 'yes') {
                container.classList.remove('hidden');
                codeInput.setAttribute('required', 'required');
                codeInput.setAttribute('placeholder', 'Enter code here'); 
                codeError.classList.add('hidden');
            } else {
                container.classList.add('hidden');
                codeInput.removeAttribute('required');
                codeError.classList.add('hidden');
            }
        }

        // --- Code Validation Function ---
        function validateScoutCode(code) {
            // This is the strict validation logic that remains in place for security
            const regex = /^[A-Z]{3}[@*]{1}[0-9]{1}$/;
            return regex.test(code);
        }

        // --- Form Submission Handler ---
        async function handleSubmission(event) {
            event.preventDefault(); 
            
            const form = document.getElementById('scout-form');
            const messageBox = document.getElementById('message-box');
            const scoutedStatus = document.querySelector('input[name="is_scouted"]:checked')?.value;
            const codeInput = document.getElementById('scout-code');
            const codeError = document.getElementById('code-error');
            
            // 1. Client-Side Code Validation (if scouted YES)
            if (scoutedStatus === 'yes') {
                const code = codeInput.value;
                if (!validateScoutCode(code)) {
                    codeError.classList.remove('hidden');
                    codeInput.focus();
                    return; 
                } else {
                    codeError.classList.add('hidden');
                }
            }

            // 2. Prepare Form Data for Formspree
            const formData = new FormData(form);
            
            // Show loading state 
            const submitButton = form.querySelector('button[type="submit"]');
            submitButton.textContent = 'SUBMITTING...';
            submitButton.disabled = true;

            try {
                // Submit to Formspree (NOTE: Replace "https://formspree.io/f/mjknopqy" with your actual Formspree endpoint)
                const response = await fetch("https://formspree.io/f/mjknopqy", {
                    method: "POST",
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    
                    // 3. Conditional Redirection/Success Message
                    if (scoutedStatus === 'no') {
                        // NO selected: Redirect to PayFast for the $1 admin fee
                        
                        // Prepare PayFast Data
                        const payFastData = new FormData();
                        payFastData.append('merchant_id', MERCHANT_ID);
                        payFastData.append('merchant_key', MERCHANT_KEY);
                        // FIX: Ensure currency code is strictly 'USD' (uppercase)
                        payFastData.append('currency', 'ZAR'); 
                        payFastData.append('return_url', BASE_RETURN_URL + '?status=success'); 
                        payFastData.append('cancel_url', BASE_RETURN_URL + '?status=cancelled'); 
                        payFastData.append('notify_url', NOTIFY_URL);
                        payFastData.append('name_first', formData.get('name').split(' ')[0]);
                        payFastData.append('name_last', formData.get('name').split(' ').slice(1).join(' '));
                        payFastData.append('email_address', formData.get('email'));
                        payFastData.append('m_payment_id', Date.now()); // Unique ID
                        payFastData.append('amount', ADMIN_FEE_AMOUNT.toFixed(2));
                        payFastData.append('item_name', 'Model Application Admin Fee');
                        
                        // Dynamically create a form and submit to PayFast
                        const payFastForm = document.createElement('form');
                        payFastForm.method = 'POST';
                        payFastForm.action = PAYFAST_URL;
                        payFastForm.style.display = 'none';

                        for (let [key, value] of payFastData.entries()) {
                            const input = document.createElement('input');
                            input.type = 'hidden';
                            input.name = key;
                            input.value = value;
                            payFastForm.appendChild(input);
                        }

                        document.body.appendChild(payFastForm);
                        payFastForm.submit();
                        
                    } else {
                        // YES selected (scouted): Show success message and reset form
                        form.classList.add('hidden');
                        messageBox.classList.remove('hidden');
                        submitButton.textContent = 'SUBMIT APPLICATION'; 
                        submitButton.disabled = false;
                        window.scrollTo(0, 0); 
                    }
                } else {
                    // Formspree submission failed 
                    const errorText = await response.json();
                    alert(`Submission failed. Please try again. Error: ${errorText.error || response.statusText}`);
                    submitButton.textContent = 'SUBMIT APPLICATION';
                    submitButton.disabled = false;
                }

            } catch (error) {
                console.error("Submission Error:", error);
                alert("An unexpected error occurred during submission. Please check your network and try again.");
                submitButton.textContent = 'SUBMIT APPLICATION';
                submitButton.disabled = false;
            }
        }
    </script>
</body>
</html>
